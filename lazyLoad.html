<!DOCTYPE html>
<html>
  <head>
    <style type="text/css">
      .header {
        margin-top: 1000px;
      }
      .footer {
        margin-bottom: 1000px;
      }
    </style>
  </head>
  <body>
    <div class="header"></div>
    <div class="container">
      <img loadpic="https://img14.360buyimg.com/cms/s400x170_jfs/t4024/14/1215614903/97837/c7fff1a2/586c9836Nd81bc652.jpg!q90.webp"
           src="./img/listen_view.png"
       />
    </div>
    <div class="footer"></div>
      <script>
      /**
      这里必须弄懂三大距离
      浏览器视图窗口顶部---是我们看到的浏览器页面的顶部（仅仅是网页那里 不包括按钮外面那些）
      页面顶部----指的是 一个网页实际的顶部

      window.pageYOffset--指的是页面偏移的距离， 这个距离是这个页面的顶部 距离我们看到的浏览器顶部的距离
      window.innerHeight --指的是当前我们看到的浏览器视图的高度
      offsetTop----指的是 元素距离 网页页面顶部的距离
      */
      var imgs = document.getElementsByTagName('img');
      // 获取视口高度与滚动条的偏移量
      function lazyload(){
        var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop;
        var viewportSize = window.innerHeight || document.documentElement.clientHeight || document.body.clientHeight;

        for(var i=0; i<imgs.length; i++) {
          var x =scrollTop+viewportSize-imgs[i].offsetTop;
          if(x>0){
            imgs[i].src = imgs[i].getAttribute('loadpic');   
          }
        }
      }
      setInterval(lazyload,1000);
    </script>
  </body>
</html>